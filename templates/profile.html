{% extends 'base.html' %}
{% block title%}{{user.username}}{% endblock %}
{% block content %}
<div class="container-fluid d-grid">
    <h1>Profile</h1>
    <h4>First Name: {{user.first_name}}</h4>
    <h4>Last Name: {{user.last_name}}</h4>
    <h4>Username: {{user.username}}</h4>
    <h4>Email: {{user.email}}</h4>
    <div>
        {% for recipe in recipes %}
        <div class="card d-grid text-center bg-secondary-subtle">
            <div class="card-header">
                <h5>{{recipe.title}}</h5>
            </div>
            <div class="card-body">
                {% for ingredient in recipe.ingredients %}
                <p>Ingredient: {{ingredient.ingredient_name}} Measurement: {{ingredient.measurement}}</p>
                {% endfor %}
                <p>{{recipe.instructions}}</p>
                <div class="card-footer">
                    {% if recipe.author == session['username'] %}
                    <form action="get" class="d-flex justify-content-center">
                        <button formaction="/recipes/{{recipe.id}}/update"
                            class="btn btn-sm btn-primary d-grid col-2">Edit</button>
                    </form>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
</div>
<form class="">
    <button class="btn btn-danger d-grid col-2 m-3" formaction="/users/{{ user.username }}/delete" formmethod="POST">
        Delete User
    </button>
</form>
</div>

{% endblock %}